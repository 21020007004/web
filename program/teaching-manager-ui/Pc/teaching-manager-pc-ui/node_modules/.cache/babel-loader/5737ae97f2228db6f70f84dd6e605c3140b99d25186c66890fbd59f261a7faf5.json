{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Login from '@/views/login/Login.vue';\nimport Layout from '@/views/Layout.vue';\nimport Home from '@/views/Home.vue';\nimport StudentManager from '@/views/member/StudentManager.vue';\nimport TeacherManager from '@/views/member/TeacherManager.vue';\nimport CourseApplication from '@/views/course/CourseApplication.vue';\nimport CourseExamination from '@/views/course/CourseExamination.vue';\nimport TeacherCourse from '@/views/manager/TeacherCourse.vue';\nimport StudentCourse from '@/views/manager/StudentCourse.vue';\nimport TeacherCourseDetail from '@/views/manager/TeacherCourseDetail.vue';\nimport TeachingArrrangement from '@/views/course/TeachingArrangement.vue';\nimport SelectCourseCenter from '@/views/course/SelectCourseCenter.vue';\nimport { checkLogin } from '@/api/login/login.js';\nimport { getUserInfo } from '@/utils/storage.js';\nVue.use(VueRouter);\n\n// 解决导航栏或者底部导航tabBar中的vue-router在3.0版本以上频繁点击菜单报错的问题\nconst originalPush = VueRouter.prototype.push;\nVueRouter.prototype.push = function push(location) {\n  return originalPush.call(this, location).catch(err => err);\n};\nconst router = new VueRouter({\n  mode: \"history\",\n  routes: [{\n    path: '/',\n    redirect: '/home'\n  }, {\n    path: '/login',\n    component: Login\n  }, {\n    path: '/layout',\n    component: Layout,\n    children: [{\n      path: '/home',\n      component: Home\n    }, {\n      path: '/student',\n      component: StudentManager\n    }, {\n      path: '/teacher',\n      component: TeacherManager\n    }, {\n      path: '/course/application',\n      component: CourseApplication\n    }, {\n      path: '/course/examination',\n      component: CourseExamination\n    }, {\n      path: '/teacher/course',\n      component: TeacherCourse\n    }, {\n      path: '/student/course',\n      component: StudentCourse\n    }, {\n      path: '/teacher/course/detail',\n      component: TeacherCourseDetail\n    }, {\n      path: '/teaching/arrangement',\n      component: TeachingArrrangement\n    }, {\n      path: '/select/course/center',\n      component: SelectCourseCenter\n    }]\n  }]\n});\n\n//配置游客可以访问的界面\nconst touristVisitUrl = ['/login'];\n\n//全局路由前置守卫\nrouter.beforeEach(async (to, from, next) => {\n  if (touristVisitUrl.includes(to.path)) {\n    next();\n  } else {\n    const userInfo = getUserInfo();\n    const result = await checkLogin(userInfo);\n    if (result.data.code == 0) {\n      next('/login');\n      Vue.prototype.$message.error('登录超时，请重新登录！');\n    }\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","Login","Layout","Home","StudentManager","TeacherManager","CourseApplication","CourseExamination","TeacherCourse","StudentCourse","TeacherCourseDetail","TeachingArrrangement","SelectCourseCenter","checkLogin","getUserInfo","use","originalPush","prototype","push","location","call","catch","err","router","mode","routes","path","redirect","component","children","touristVisitUrl","beforeEach","to","from","next","includes","userInfo","result","data","code","$message","error"],"sources":["E:/第五学期/web/实验/教务系统/program/teaching-manager-ui/Pc/teaching-manager-pc-ui/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Login from '@/views/login/Login.vue'\r\nimport Layout from '@/views/Layout.vue'\r\nimport Home from '@/views/Home.vue'\r\nimport StudentManager from '@/views/member/StudentManager.vue'\r\nimport TeacherManager from '@/views/member/TeacherManager.vue'\r\nimport CourseApplication from '@/views/course/CourseApplication.vue'\r\nimport CourseExamination from '@/views/course/CourseExamination.vue'\r\nimport TeacherCourse from '@/views/manager/TeacherCourse.vue'\r\nimport StudentCourse from '@/views/manager/StudentCourse.vue'\r\nimport TeacherCourseDetail from '@/views/manager/TeacherCourseDetail.vue'\r\nimport TeachingArrrangement from '@/views/course/TeachingArrangement.vue'\r\nimport SelectCourseCenter from '@/views/course/SelectCourseCenter.vue'\r\nimport { checkLogin } from '@/api/login/login.js'\r\nimport { getUserInfo } from '@/utils/storage.js'\r\n\r\nVue.use(VueRouter)\r\n\r\n// 解决导航栏或者底部导航tabBar中的vue-router在3.0版本以上频繁点击菜单报错的问题\r\nconst originalPush = VueRouter.prototype.push\r\nVueRouter.prototype.push = function push (location) {\r\n  return originalPush.call(this, location).catch(err => err)\r\n}\r\n\r\nconst router = new VueRouter({\r\n    mode: \"history\",\r\n    routes: [\r\n        { \r\n          path: '/', \r\n          redirect: '/home'\r\n        },\r\n        { \r\n          path: '/login', \r\n          component: Login \r\n        },\r\n        { \r\n          path: '/layout', \r\n          component: Layout, \r\n          children: [\r\n            { path: '/home', component: Home},\r\n            { path: '/student', component: StudentManager },\r\n            { path: '/teacher', component: TeacherManager },\r\n            { path: '/course/application', component: CourseApplication },\r\n            { path: '/course/examination', component: CourseExamination },\r\n            { path: '/teacher/course', component: TeacherCourse },\r\n            { path: '/student/course', component: StudentCourse },\r\n            { path: '/teacher/course/detail', component: TeacherCourseDetail },\r\n            { path: '/teaching/arrangement', component: TeachingArrrangement },\r\n            { path: '/select/course/center', component: SelectCourseCenter }\r\n          ]\r\n        }\r\n\r\n    ]\r\n})\r\n\r\n//配置游客可以访问的界面\r\nconst touristVisitUrl = ['/login']\r\n\r\n//全局路由前置守卫\r\nrouter.beforeEach( async (to, from, next) => {\r\n  if (touristVisitUrl.includes(to.path)) {\r\n    next()\r\n  } else {\r\n    const userInfo = getUserInfo()\r\n    const result = await checkLogin(userInfo)\r\n    if (result.data.code == 0) {\r\n      next('/login')\r\n      Vue.prototype.$message.error('登录超时，请重新登录！')\r\n    }\r\n    next()\r\n  }\r\n})\r\n\r\nexport default router"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}